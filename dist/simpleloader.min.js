!function(e,o){"use strict";function n(i,f,c){var n=t[i];if(n||(n={url:i,deferred:e.ajax(e.extend({url:r+i+a},f))},t[i]=n),c){if("resolved"===n.deferred.state())return void c();e.when(n.deferred).done(function(){c()})}}function i(r){var n=r.shift();f["get"+d(n.url)](n.url),e.when(t[n.url].deferred).done(function(){n.deferred.resolve(),r.length&&i(r)}).fail(function(){n.deferred.reject()})}function d(t){var n=t.split(".").pop().split("?").shift(),e="";switch(n){case"js":e="Script";break;case"css":e="CSS";break;case"jpg":e="Image";break;case"png":e="Image";break;case"gif":e="Image";break;default:e="Script"}return e}function c(t){var a=[],n=[],c=[],r=function(t){e.isArray(t)?e.merge(n,t):n.push(t)};t.load&&r(t.load),t.test&&t.yep&&r(t.yep),t.test===!1&&t.nope&&r(t.nope),e.each(n,function(r,n){var t=e.Deferred();a.push(t),c.push({url:n,deferred:t})}),i(c),e.when.apply(o,a).done(function(){t.complete&&t.complete()}).fail(function(){t.fail&&t.fail()})}var t={},r="",a="",f={getScript:function(e,t){n(e,{dataType:"script",cache:!0},t)},getCSS:function(i,c){n(i,{cache:!0},c),e.when(t[i].deferred).done(function(){e("<link>").appendTo(e("head")).attr({type:"text/css",rel:"stylesheet"}).attr("href",r+i+a)})},getImage:function(e,t){n(e,{},t)},setBaseUrl:function(e){r=e},setSufix:function(e){a=e}};e.extend(c,f),e.wk=e.wk||{},e.wk.load=c}(window.jQuery||window.Zepto,window);