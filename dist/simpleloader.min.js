!function(e,d){"use strict";function n(c,o,i){var n=t[c];if(n||(n={url:c,deferred:e.ajax(e.extend({url:r+c+a},o))},t[c]=n),i){if("resolved"===n.deferred.state())return void i();e.when(n.deferred).done(function(){i()})}}function c(r){var n=r.shift();o["get"+f(n.url)](n.url),e.when(t[n.url].deferred).done(function(){n.deferred.resolve(),r.length&&c(r)})}function f(t){var n=t.split(".").pop().split("?").shift(),e="";switch(n){case"js":e="Script";break;case"css":e="CSS";break;case"jpg":e="Image";break;case"png":e="Image";break;case"gif":e="Image";break;default:e="Script"}return e}function i(t){var a=[],n=[],i=[],r=function(t){e.isArray(t)?e.merge(n,t):n.push(t)};t.load&&r(t.load),t.test&&t.yep&&r(t.yep),!t.test&&t.nope&&r(t.nope),e.each(n,function(r,n){var t=e.Deferred();a.push(t),i.push({url:n,deferred:t})}),c(i),e.when.apply(d,a).done(function(){t.complete&&t.complete()})}var t={},r="",a="",o={getScript:function(e,t){n(e,{dataType:"script",cache:!0},t)},getCSS:function(c,i){n(c,{cache:!0},i),e.when(t[c].deferred).done(function(){e("<link>").appendTo(e("head")).attr({type:"text/css",rel:"stylesheet"}).attr("href",r+c+a)})},getImage:function(e,t){n(e,{},t)},setBaseUrl:function(e){r=e},setSufix:function(e){a=e}};e.extend(i,o),e.wk=e.wk||{},e.wk.load=i}(window.jQuery||window.Zepto,window);